<?xml version="1.0"?>

<network name = "BatchRes50">
  <precision>16</precision>
  <inActID>0</inActID>
  <inGradID>4</inGradID>
  <Core>
    <ID>0</ID>
    <pRow>8</pRow>
    <pCol>8</pCol>
  </Core>
  <!--Layer 0 -->
  <Activation>
    <ID>0</ID>
    <H>224</H>
    <W>224</W>
    <C>3</C>
  </Activation>
  <Gradient>
    <ID>0</ID>
    <H>224</H>
    <W>224</W>
    <C>3</C>
  </Gradient>
  <Operator>
    <ID>"HW_0_0"</ID>
    <type>HWConv</type>
    <core>0</core>
    <inputAct>0</inputAct>
    <outputAct>1</outputAct>
    <inputGrad>1</inputGrad>
    <outputGrad>0</outputGrad>
    <R>7</R>
    <S>7</S>
    <C>3</C>
    <K>64</K>    
  </Operator>
  <!--Max pool stride 2-->
  <!--So output is 56x56 -->
  <!--Residual BLock 1_1 -->
  <Activation>
    <ID>1</ID>
    <H>56</H>
    <W>56</W>
    <C>64</C>
  </Activation>
  <Gradient>
    <ID>1</ID>
    <H>56</H>
    <W>56</W>
    <C>64</C>
  </Gradient>
  <Operator>
    <ID>"RES_1_1"</ID>
    <type>ResHW</type>
    <core>0</core>
    <inputAct>1</inputAct>
    <outputAct>2</outputAct>
    <inputGrad>2</inputGrad>
    <outputGrad>1</outputGrad>
    <convCount>3</convCount>
    <inH>56</inH>
    <inW>56</inW>
    <outH>56</outH>
    <outW>56</outW>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>96</C>
      <K>64</K>
    </conv>
    <conv>
      <R>3</R>
      <S>3</S>
      <C>64</C>
      <K>64</K>
    </conv>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>64</C>
      <K>256</K>
    </conv>
  </Operator>
  <!--Residual BLock 1_2 -->
  <Activation>
    <ID>2</ID>
    <H>56</H>
    <W>56</W>
    <C>256</C>
  </Activation>
  <Gradient>
    <ID>2</ID>
    <H>56</H>
    <W>56</W>
    <C>256</C>
  </Gradient>
  <Operator>
    <ID>"RES_1_2"</ID>
    <type>ResHW</type>
    <core>0</core>
    <inputAct>2</inputAct>
    <outputAct>3</outputAct>
    <inputGrad>3</inputGrad>
    <outputGrad>2</outputGrad>
    <convCount>3</convCount>
    <inH>56</inH>
    <inW>56</inW>
    <outH>56</outH>
    <outW>56</outW>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>96</C>
      <K>64</K>
    </conv>
    <conv>
      <R>3</R>
      <S>3</S>
      <C>64</C>
      <K>64</K>
    </conv>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>64</C>
      <K>256</K>
    </conv>
  </Operator>
  <!--Residual BLock 1_3 -->
  <Activation>
    <ID>3</ID>
    <H>56</H>
    <W>56</W>
    <C>256</C>
  </Activation>
  <Gradient>
    <ID>3</ID>
    <H>56</H>
    <W>56</W>
    <C>256</C>
  </Gradient>
  <Operator>
    <ID>"RES_1_3"</ID>
    <type>ResHW</type>
    <core>0</core>
    <inputAct>3</inputAct>
    <outputAct>4</outputAct>
    <inputGrad>4</inputGrad>
    <outputGrad>3</outputGrad>
    <convCount>3</convCount>
    <inH>56</inH>
    <inW>56</inW>
    <outH>56</outH>
    <outW>56</outW>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>96</C>
      <K>64</K>
    </conv>
    <conv>
      <R>3</R>
      <S>3</S>
      <C>64</C>
      <K>64</K>
    </conv>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>64</C>
      <K>256</K>
    </conv>
  </Operator>
  <!--Residual BLock 2_1 -->
  <Activation>
    <ID>4</ID>
    <H>56</H>
    <W>56</W>
    <C>256</C>
  </Activation>
  <Gradient>
    <ID>4</ID>
    <H>56</H>
    <W>56</W>
    <C>256</C>
  </Gradient>
  <Operator>
    <ID>"RES_2_1"</ID>
    <type>ResCK</type>
    <core>0</core>
    <inputAct>4</inputAct>
    <outputAct>5</outputAct>
    <inputGrad>4</inputGrad>
    <outputGrad>5</outputGrad>
    <convCount>3</convCount>
    <inH>56</inH>
    <inW>56</inW>
    <outH>28</outH>
    <outW>28</outW>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>256</C>
      <K>128</K>
    </conv>
    <conv>
      <R>3</R>
      <S>3</S>
      <C>128</C>
      <K>128</K>
    </conv>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>128</C>
      <K>512</K>
    </conv>
  </Operator>
  <!--Residual BLock 2_2 -->
  <Activation>
    <ID>5</ID>
    <H>28</H>
    <W>28</W>
    <C>512</C>
  </Activation>
  <Gradient>
    <ID>5</ID>
    <H>28</H>
    <W>28</W>
    <C>512</C>
  </Gradient>
  <Operator>
    <ID>"RES_2_2"</ID>
    <type>ResCK</type>
    <core>0</core>
    <inputAct>5</inputAct>
    <outputAct>6</outputAct>
    <inputGrad>6</inputGrad>
    <outputGrad>5</outputGrad>
    <convCount>3</convCount>
    <inH>28</inH>
    <inW>28</inW>
    <outH>28</outH>
    <outW>28</outW>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>512</C>
      <K>128</K>
    </conv>
    <conv>
      <R>3</R>
      <S>3</S>
      <C>128</C>
      <K>128</K>
    </conv>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>128</C>
      <K>512</K>
    </conv>
  </Operator>
  <!--Residual BLock 2_3 -->
  <Activation>
    <ID>6</ID>
    <H>28</H>
    <W>28</W>
    <C>512</C>
  </Activation>
  <Gradient>
    <ID>6</ID>
    <H>28</H>
    <W>28</W>
    <C>512</C>
  </Gradient>
  <Operator>
    <ID>"RES_2_3"</ID>
    <type>ResCK</type>
    <core>0</core>
    <inputAct>6</inputAct>
    <outputAct>7</outputAct>
    <inputGrad>7</inputGrad>
    <outputGrad>6</outputGrad>
    <convCount>3</convCount>
    <inH>28</inH>
    <inW>28</inW>
    <outH>28</outH>
    <outW>28</outW>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>512</C>
      <K>128</K>
    </conv>
    <conv>
      <R>3</R>
      <S>3</S>
      <C>128</C>
      <K>128</K>
    </conv>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>128</C>
      <K>512</K>
    </conv>
  </Operator>
  <!--Residual BLock 2_4 -->
  <Activation>
    <ID>7</ID>
    <H>28</H>
    <W>28</W>
    <C>512</C>
  </Activation>
  <Gradient>
    <ID>7</ID>
    <H>28</H>
    <W>28</W>
    <C>512</C>
  </Gradient>
  <Operator>
    <ID>"RES_2_4"</ID>
    <type>ResCK</type>
    <core>0</core>
    <inputAct>7</inputAct>
    <outputAct>8</outputAct>
    <inputGrad>8</inputGrad>
    <outputGrad>7</outputGrad>
    <convCount>3</convCount>
    <inH>28</inH>
    <inW>28</inW>
    <outH>28</outH>
    <outW>28</outW>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>512</C>
      <K>128</K>
    </conv>
    <conv>
      <R>3</R>
      <S>3</S>
      <C>128</C>
      <K>128</K>
    </conv>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>128</C>
      <K>512</K>
    </conv>
  </Operator>
  <!-- Residual layer 3 with x6-->
  <!--Residual BLock 3_1 -->
  <Activation>
    <ID>8</ID>
    <H>28</H>
    <W>28</W>
    <C>512</C>
  </Activation>
  <Gradient>
    <ID>8</ID>
    <H>28</H>
    <W>28</W>
    <C>512</C>
  </Gradient>
  <Operator>
    <ID>"RES_3_1"</ID>
    <type>ResCK</type>
    <core>0</core>
    <inputAct>8</inputAct>
    <outputAct>9</outputAct>
    <inputGrad>9</inputGrad>
    <outputGrad>8</outputGrad>
    <convCount>3</convCount>
    <inH>28</inH>
    <inW>28</inW>
    <outH>14</outH>
    <outW>14</outW>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>512</C>
      <K>256</K>
    </conv>
    <conv>
      <R>3</R>
      <S>3</S>
      <C>256</C>
      <K>256</K>
    </conv>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>256</C>
      <K>1024</K>
    </conv>
  </Operator>
  <!--Residual BLock 3_2 -->
  <Activation>
    <ID>9</ID>
    <H>14</H>
    <W>14</W>
    <C>1024</C>
  </Activation>
  <Gradient>
    <ID>9</ID>
    <H>14</H>
    <W>14</W>
    <C>1024</C>
  </Gradient>
  <Operator>
    <ID>"RES_3_2"</ID>
    <type>ResCK</type>
    <core>0</core>
    <inputAct>9</inputAct>
    <outputAct>10</outputAct>
    <inputGrad>10</inputGrad>
    <outputGrad>9</outputGrad>
    <convCount>3</convCount>
    <inH>14</inH>
    <inW>14</inW>
    <outH>14</outH>
    <outW>14</outW>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>1024</C>
      <K>256</K>
    </conv>
    <conv>
      <R>3</R>
      <S>3</S>
      <C>256</C>
      <K>256</K>
    </conv>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>256</C>
      <K>1024</K>
    </conv>
  </Operator>
  <!--Residual BLock 3_3 -->
  <Activation>
    <ID>10</ID>
    <H>14</H>
    <W>14</W>
    <C>1024</C>
  </Activation>
  <Gradient>
    <ID>10</ID>
    <H>14</H>
    <W>14</W>
    <C>1024</C>
  </Gradient>
  <Operator>
    <ID>"RES_3_3"</ID>
    <type>ResCK</type>
    <core>0</core>
    <inputAct>10</inputAct>
    <outputAct>11</outputAct>
    <inputGrad>11</inputGrad>
    <outputGrad>10</outputGrad>
    <convCount>3</convCount>
    <inH>14</inH>
    <inW>14</inW>
    <outH>14</outH>
    <outW>14</outW>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>1024</C>
      <K>256</K>
    </conv>
    <conv>
      <R>3</R>
      <S>3</S>
      <C>256</C>
      <K>256</K>
    </conv>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>256</C>
      <K>1024</K>
    </conv>
  </Operator>
  <!--Residual BLock 3_4 -->
  <Activation>
    <ID>11</ID>
    <H>14</H>
    <W>14</W>
    <C>1024</C>
  </Activation>
  <Gradient>
    <ID>11</ID>
    <H>14</H>
    <W>14</W>
    <C>1024</C>
  </Gradient>
  <Operator>
    <ID>"RES_3_4"</ID>
    <type>ResCK</type>
    <core>0</core>
    <inputAct>11</inputAct>
    <outputAct>12</outputAct>
    <inputGrad>12</inputGrad>
    <outputGrad>11</outputGrad>
    <convCount>3</convCount>
    <inH>14</inH>
    <inW>14</inW>
    <outH>14</outH>
    <outW>14</outW>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>1024</C>
      <K>256</K>
    </conv>
    <conv>
      <R>3</R>
      <S>3</S>
      <C>256</C>
      <K>256</K>
    </conv>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>256</C>
      <K>1024</K>
    </conv>
  </Operator>
  <!--Residual BLock 3_5 -->
  <Activation>
    <ID>12</ID>
    <H>14</H>
    <W>14</W>
    <C>1024</C>
  </Activation>
  <Gradient>
    <ID>12</ID>
    <H>14</H>
    <W>14</W>
    <C>1024</C>
  </Gradient>
  <Operator>
    <ID>"RES_3_5"</ID>
    <type>ResCK</type>
    <core>0</core>
    <inputAct>12</inputAct>
    <outputAct>13</outputAct>
    <inputGrad>13</inputGrad>
    <outputGrad>12</outputGrad>
    <convCount>3</convCount>
    <inH>14</inH>
    <inW>14</inW>
    <outH>14</outH>
    <outW>14</outW>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>1024</C>
      <K>256</K>
    </conv>
    <conv>
      <R>3</R>
      <S>3</S>
      <C>256</C>
      <K>256</K>
    </conv>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>256</C>
      <K>1024</K>
    </conv>
  </Operator>
  <!--Residual BLock 3_6 -->
  <Activation>
    <ID>13</ID>
    <H>14</H>
    <W>14</W>
    <C>1024</C>
  </Activation>
  <Gradient>
    <ID>13</ID>
    <H>14</H>
    <W>14</W>
    <C>1024</C>
  </Gradient>
  <Operator>
    <ID>"RES_3_6"</ID>
    <type>ResCK</type>
    <core>0</core>
    <inputAct>13</inputAct>
    <outputAct>14</outputAct>
    <inputGrad>14</inputGrad>
    <outputGrad>13</outputGrad>
    <convCount>3</convCount>
    <inH>14</inH>
    <inW>14</inW>
    <outH>14</outH>
    <outW>14</outW>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>1024</C>
      <K>256</K>
    </conv>
    <conv>
      <R>3</R>
      <S>3</S>
      <C>256</C>
      <K>256</K>
    </conv>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>256</C>
      <K>1024</K>
    </conv>
  </Operator>
  <!-- conv layer 4 with x3 -->
  <!--Residual BLock 4_1 -->
  <Activation>
    <ID>14</ID>
    <H>14</H>
    <W>14</W>
    <C>1024</C>
  </Activation>
  <Gradient>
    <ID>14</ID>
    <H>14</H>
    <W>14</W>
    <C>1024</C>
  </Gradient>
  <Operator>
    <ID>"RES_4_1"</ID>
    <type>ResCK</type>
    <core>0</core>
    <inputAct>14</inputAct>
    <outputAct>15</outputAct>
    <inputGrad>15</inputGrad>
    <outputGrad>14</outputGrad>
    <convCount>3</convCount>
    <inH>14</inH>
    <inW>14</inW>
    <outH>7</outH>
    <outW>7</outW>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>1024</C>
      <K>512</K>
    </conv>
    <conv>
      <R>3</R>
      <S>3</S>
      <C>512</C>
      <K>512</K>
    </conv>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>512</C>
      <K>2048</K>
    </conv>
  </Operator>
  <!--Residual BLock 4_2 -->
  <Activation>
    <ID>15</ID>
    <H>7</H>
    <W>7</W>
    <C>2048</C>
  </Activation>
  <Gradient>
    <ID>15</ID>
    <H>7</H>
    <W>7</W>
    <C>2048</C>
  </Gradient>
  <Operator>
    <ID>"RES_4_2"</ID>
    <type>ResCK</type>
    <core>0</core>
    <inputAct>15</inputAct>
    <outputAct>16</outputAct>
    <inputGrad>16</inputGrad>
    <outputGrad>15</outputGrad>
    <convCount>3</convCount>
    <inH>7</inH>
    <inW>7</inW>
    <outH>7</outH>
    <outW>7</outW>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>2048</C>
      <K>512</K>
    </conv>
    <conv>
      <R>3</R>
      <S>3</S>
      <C>512</C>
      <K>512</K>
    </conv>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>512</C>
      <K>2048</K>
    </conv>
  </Operator>
  <!--Residual BLock 4_3 -->
  <Activation>
    <ID>16</ID>
    <H>7</H>
    <W>7</W>
    <C>2048</C>
  </Activation>
  <Gradient>
    <ID>16</ID>
    <H>7</H>
    <W>7</W>
    <C>2048</C>
  </Gradient>
  <Operator>
    <ID>"RES_4_3"</ID>
    <type>ResCK</type>
    <core>0</core>
    <inputAct>16</inputAct>
    <outputAct>17</outputAct>
    <inputGrad>17</inputGrad>
    <outputGrad>16</outputGrad>
    <convCount>3</convCount>
    <inH>7</inH>
    <inW>7</inW>
    <outH>7</outH>
    <outW>7</outW>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>2048</C>
      <K>512</K>
    </conv>
    <conv>
      <R>3</R>
      <S>3</S>
      <C>512</C>
      <K>512</K>
    </conv>
    <conv>
      <R>1</R>
      <S>1</S>
      <C>512</C>
      <K>2048</K>
    </conv>
  </Operator>  
  <!-- activation at end of network -->
  <Activation>
    <ID>17</ID>
    <H>7</H>
    <W>7</W>
    <C>2048</C>
  </Activation>
  <Gradient>
    <ID>17</ID>
    <H>7</H>
    <W>7</W>
    <C>2048</C>
  </Gradient>
</network>
